<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Snake Snuke has 2<b>N</b> rectangles cut out of paper.
The rectangles are labeled 0 through 2<b>N</b>-1.
For each i, the side lengths of <br></br>rectangle i will be denoted X[i] and Y[i].
<br></br><br></br>
The number <b>N</b> can be very large, therefore we will use a pseudorandom generator to define the values X[i] and Y[i].<br></br>
You are given the following input:
<ul>
<li>The int <b>N</b>.</li>
<li>Two vector &lt;int&gt;s: <b>XS</b> and <b>YS</b>.</li>
<li>Six ints: <b>XA</b>, <b>XB</b>, <b>XC</b>, <b>YA</b>, <b>YB</b>, <b>YC</b>.</li>
</ul>
<br></br>
Use the following pseudocode to generate X and Y:
<br></br>
<pre>
for (i = 0; i &lt; (length of XS); i++) {
    X[i] = XS[i];
    Y[i] = YS[i];
}
for (i = (length of XS); i &lt; 2 * N; i++) {
    X[i] = (X[i - 1] * XA + XB) % XC + 1;
    Y[i] = (Y[i - 1] * YA + YB) % YC + 1;
}
</pre>
<p>
<br></br>
Snake Snuke will divide his 2<b>N</b> rectangles into two bags, each bag containing exactly <b>N</b> rectangles.
Then he will process each bag <br></br>separately.
<br></br>
When processing a bag, he will take all the rectangles out of the bag and he will place them onto a table, 
one rectangle at a time.<br></br>
Each rectangle (except for the first one) must overlap the immediately previous one, so at the end Snuke will
<br></br> have a pile of <b>N</b> rectangles.
Snuke may rotate the rectangles, but once placed, the sides of each rectangle must be parallel with the <br></br>sides
of the table.(I.e., he may only swap the width and height of some rectangles.)<br></br>
<br></br>
After placing all the rectangles, Snuke computes the area that is covered by all <b>N</b> rectangles.<br></br>(Formally, the area of their intersection.)
That area is called the outcome of that bag.
<br></br><br></br>
Snuke wants to maximize the sum of the outcomes of his two bags.<br></br>
That is, he must first divide the rectangles into bags in an optimal way, and then process each bag in an optimal way.<br></br>
Return the maximal possible sum of the two outcomes
</p>
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>PilingRectsDiv1</td></tr><tr><td>Method:</td><td>getmax</td></tr><tr><td>Parameters:</td><td>int, vector &lt;int&gt;, vector &lt;int&gt;, int, int, int, int, int, int</td></tr><tr><td>Returns:</td><td>long long</td></tr><tr><td>Method signature:</td><td>long long getmax(int N, vector &lt;int&gt; XS, vector &lt;int&gt; YS, int XA, int XB, int XC, int YA, int YB, int YC)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>N</b> will be between 1 and 100,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>XS</b> will contain between 1 and min{50, 2*<b>N</b>} elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>XS</b> and <b>YS</b> will be contain the same number of elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>XS</b> and <b>YS</b> will be between 1 and 1,000,000,000 (10<sup>9</sup>), inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>XA</b>, <b>XB</b>, <b>YA</b> and <b>YB</b> will be between 0 and 1,000,000,000 (10<sup>9</sup>), inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>XC</b> and <b>YC</b> will be between 1 and 1,000,000,000 (10<sup>9</sup>), inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>2</pre></td></tr><tr><td><pre>{1,2,3,4}</pre></td></tr><tr><td><pre>{10,5,3,5}</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 14</pre></td></tr><tr><td><table><tr><td colspan="2">Snuke should put rectangles 0 and 1 in one bag, and rectangles 2 and 3 into the other bag. He can then process the bags as shown in the picture below (where rectangle 0 is labeled as "first", and so on). The sum of the two areas is 14. There are other equally good solutions, but there is no better solution than 14.
<br></br><br></br>
<img src="http://community.topcoder.com/contest/problem/PilingRectsDiv1/rects.png"></img></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>2</pre></td></tr><tr><td><pre>{7,7}</pre></td></tr><tr><td><pre>{4,4}</pre></td></tr><tr><td><pre>9</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>7</pre></td></tr><tr><td><pre>9</pre></td></tr></table></td></tr><tr><td><pre>Returns: 56</pre></td></tr><tr><td><table><tr><td colspan="2"><b>X</b> is {7,7,4,7} and <b>Y</b> is {4,4,7,4}. Note that it is allowed to rotate the rectangles. Regardless of how Snuke divides the rectangles into bags, each bag will contain two 4x7 rectangles. When processing a bag, Snuke can align the two rectangles perfectly. Thus the answer is 28 + 28 = 56.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>{5,6,9,10,4,7}</pre></td></tr><tr><td><pre>{9,5,8,6,8,7}</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 69</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>10000</pre></td></tr><tr><td><pre>{1000000000}</pre></td></tr><tr><td><pre>{1000000000}</pre></td></tr><tr><td><pre>93827162</pre></td></tr><tr><td><pre>91238127</pre></td></tr><tr><td><pre>98231267</pre></td></tr><tr><td><pre>92138287</pre></td></tr><tr><td><pre>98563732</pre></td></tr><tr><td><pre>99381279</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1240119561532788</pre></td></tr><tr><td><table><tr><td colspan="2">Use a 64-bit data type for generating the input data in order to avoid overflow. Also note that the return value is a long long.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>5</pre></td></tr><tr><td><pre>{375,571,973,896,460,930,583,530,657,590}</pre></td></tr><tr><td><pre>{284,37,994,699,941,745,166,884,270,708}</pre></td></tr><tr><td><pre>428</pre></td></tr><tr><td><pre>1000</pre></td></tr><tr><td><pre>788</pre></td></tr><tr><td><pre>851</pre></td></tr><tr><td><pre>125</pre></td></tr><tr><td><pre>894</pre></td></tr></table></td></tr><tr><td><pre>Returns: 420515</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>34734</pre></td></tr><tr><td><pre>{898,579,465,665,875,391,583,901,326,133,656,562,701,707,492,617,455,441,382,952,689,656,334,877,120,318,497,25,569,962,845,562,632,898,882,498,595,889,382,507,791,548,810,606,105,869,569,970,322,974}</pre></td></tr><tr><td><pre>{83,18,492,27,339,622,851,915,464,347,287,210,282,166,976,167,968,769,14,383,454,983,319,165,185,315,795,851,124,287,846,745,19,639,894,828,540,420,147,452,501,670,466,554,166,1,446,808,508,172}</pre></td></tr><tr><td><pre>569</pre></td></tr><tr><td><pre>185</pre></td></tr><tr><td><pre>285</pre></td></tr><tr><td><pre>741</pre></td></tr><tr><td><pre>304</pre></td></tr><tr><td><pre>296</pre></td></tr></table></td></tr><tr><td><pre>Returns: 10050</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
