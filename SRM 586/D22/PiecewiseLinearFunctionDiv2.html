<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>F is a function that is defined on all real numbers from the closed interval [1,N].
You are given a vector &lt;int&gt; <b>Y</b> with N elements.
For each i (1 &lt;= i &lt;= N) we have F(i) = <b>Y</b>[i-1].
Additionally, you know that F is piecewise linear: for each i, on the interval [i,i+1] F is a linear function.
The function F is uniquely determined by this information.
For example, if F(4)=1 and F(5)=6 then we must have F(4.7)=4.5.
<br></br><br></br>
As another example, this is the plot of the function F for <b>Y</b> = {1, 4, -1, 2}.
<br></br><br></br>
<img src="http://www.topcoder.com/contest/problem/PiecewiseLinearFunction/2zecd35.png"></img>
<br></br><br></br>
You are also given a vector &lt;int&gt; <b>query</b>.
For each i, compute the number of solutions to the equation F(x) = <b>query</b>[i].
Note that sometimes this number of solutions can be infinite.
<br></br><br></br>
Return a vector &lt;int&gt; of the same length as <b>query</b>.
For each i, element i of the return value should be -1 if the equation F(x) = <b>query</b>[i] has an infinite number of solutions.
Otherwise, element i of the return value should be the actual number of solutions this equation has.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>PiecewiseLinearFunctionDiv2</td></tr><tr><td>Method:</td><td>countSolutions</td></tr><tr><td>Parameters:</td><td>vector &lt;int&gt;, vector &lt;int&gt;</td></tr><tr><td>Returns:</td><td>vector &lt;int&gt;</td></tr><tr><td>Method signature:</td><td>vector &lt;int&gt; countSolutions(vector &lt;int&gt; Y, vector &lt;int&gt; query)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td>&#160;&#160;&#160;&#160;</td></tr><tr><td></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>Y</b> will contain between 2 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>Y</b> will be between -1,000,000,000 and 1,000,000,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>query</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>query</b> will be between -1,000,000,000 and 1,000,000,000, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1, 4, -1, 2}</pre></td></tr><tr><td><pre>{-2, -1, 0, 1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: {0, 1, 2, 3 }</pre></td></tr><tr><td><table><tr><td colspan="2">This is the example from the problem statement. The detailed information about the queries is:
<ul>
<li>There is no such x that F(x) = -2 is satisfied.</li>
<li>F(x) = -1 is only true for x = 3.</li>
<li>F(x) = 0 has two roots: 2.8 and 10/3.</li>
<li>F(x) = 1 has three roots: 1, 2.6 and 11/3.</li>
</ul></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0, 0}</pre></td></tr><tr><td><pre>{-1, 0, 1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: {0, -1, 0 }</pre></td></tr><tr><td><table><tr><td colspan="2">This function's plot is a horizontal segment between points (1, 0) and (2, 0). F(x) = 0 is satisfied for any x between 1 and 2 and thus the number of solutions is infinite. For any other value on the right-hand side, it has no solutions.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{2, 4, 8, 0, 3, -6, 10}</pre></td></tr><tr><td><pre>{0, 1, 2, 3, 4, 0, 65536}</pre></td></tr></table></td></tr><tr><td><pre>Returns: {3, 4, 5, 4, 3, 3, 0 }</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{-178080289, -771314989, -237251715, -949949900, -437883156, -835236871, -316363230, -929746634, -671700962}
</pre></td></tr><tr><td><pre>{-673197622, -437883156, -251072978, 221380900, -771314989, -949949900, -910604034, -671700962, -929746634, -316363230}</pre></td></tr></table></td></tr><tr><td><pre>Returns: {8, 6, 3, 0, 7, 1, 4, 8, 3, 4 }</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
